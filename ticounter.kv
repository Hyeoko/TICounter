<Screen>:

    micro_game_profit:micro_game_profit
    money_count:money_count
    current_bet:current_bet

    total_wins:total_wins

    total_bets:total_bets
    shoe_ti:shoe_ti
    pre_ti:pre_ti

    board:board

    GridLayout:
        cols:1
        size: root.width, root.height

        GridLayout:
            cols:2
            rows:1
            size_hint_y: 0.3
            Button:
                text:"B"
                on_press: root.bet_pressed('B')
                size_hint: (0.4, 0.5)

            GridLayout:
                cols:1
                rows:2
                GridLayout:
                    cols:5
                    Button:
                        text:"F2"
                        on_press: root.bet_pressed('F', 0)
                    Button:
                        text:"XB"
                        on_press: root.bet_pressed('F', 1)
                    Button:
                        text:"XF2"
                        on_press: root.bet_pressed('F', 2)
                    Button:
                        text:"F3"
                        on_press: root.bet_pressed('F', 3)
                    Button:
                        text:"XF3"
                        on_press: root.bet_pressed('F', 4)

                GridLayout:
                    cols:3
                    Button:
                        text:"L2"
                        on_press: root.bet_pressed('L', 0)
                    Button:
                        text:"End micro-game"
                        on_press: root.end_micro_game()

        GridLayout:
            cols:3
            GridLayout:
                size_hint_x: 0.8
                rows: 8
                Label:
                    id: micro_game_profit
                    text: "Micro-game Profit: 0"
                    size_hint_y: 0.2
                Label:
                    id: money_count
                    text: "Money Count: 0"
                    size_hint_y: 0.2

                Label:
                    id: current_bet
                    halign:'center'
                    text: "? bet on ?"
                    font_size:26
                    size_hint_y: 0.2

                Label:
                    id: total_wins
                    text: "P: 0     B: 0"
                    font_size:20
                    size_hint_y: 0.35

                Label:
                    id: total_bets
                    text: "# of bets: 0"
                    size_hint_y: 0.2

                Label:
                    id: shoe_ti
                    text: "Shoe TI: None"
                    size_hint_y: 0.2

                Label:
                    id: pre_ti
                    text: "Pre-TI: None"
                    size_hint_y: 0.2

                GridLayout:
                    cols:3
                    size_hint_y:0.4
                    Button:
                        text:"Export\nto\nExcel"
                        halign:'center'
                        size_hint_y:0.2
                        background_color:0, 1, 0, 1
                        on_press: root.export_to_excel()

                    Button:
                        text: "Reset\nShoe"
                        halign:'center'
                        on_press: root.reset()

                    Button:
                        text:'Del\nMistake'
                        halign:'center'
                        on_press: root.mistake()
            ScrollView:
                size_hint_x: 0.7
                Label:
                    pos:self.pos
                    id:board
                    size_hint:None, None
                    size: self.texture_size
                    text: ''
                    font_size: 30


        GridLayout:
            rows:2
            size_hint_y:0.45
            GridLayout:
                cols:2
                size_hint_y:0.4
                Button:
                    text:"Player"
                    background_color:0,0,1,1
                    on_press: root.board_pressed('P')

                Button:
                    text:"Banker"
                    background_color:1,0,0,1
                    on_press: root.board_pressed('B')

            GridLayout:
                cols:3
                size_hint_y: 0.3
                Button:
                    text:"Bet Player"
                    background_color:0.6,0.6,1,1
                    on_press: root.bet_side('P')

                Button:
                    text:"Cancel Bet"
                    on_press: root.bet_side('c')

                Button:
                    text:"Bet Banker"
                    background_color:1,0.6,0.6,1
                    on_press: root.bet_side('B')